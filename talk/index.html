
<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Drawing stuff that isn't there</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="lib/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="lib/reveal.js/css/theme/black.css">
    <link rel="stylesheet" href="lib/reveal.js/lib/css/zenburn.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <div class="reveal">
      <div class="slides">

        <section>
          <h1>Setup: todo</h1>
        </section>

        <section>
          <h1>Drawing things that aren't there</h1>
        </section>

        <section>
          <section>
            <h1>ðŸŽ‚</h1>
          </section>
          <section>
            <h1>Hello,</h1>
            <h2>I'm Ben</h2>
          </section>
          <section>
            <h3 style="text-decoration:line-through">White October</h3>
            <h3 style="text-decoration:line-through">Pusher</h3>
            <h3>Whatever</h3>
          </section>
          <!-- <section>
            <h1>People pay me to type stuff for them</h1>
          </section> -->
        </section>

        <section>
          <section>
            <h1>Microhacks &amp; Creativity</h1>
          </section>
          <section>
            <h1>[google cardboard]</h1>
          </section>
          <section>
            <h2>[cardboctober.xyz]</h2>
          </section>
          <section>
            <h2>[webgl-hacks]</h2>
          </section>
          <section>
            <h1>Key points</h1>
            <h2>Exploritory - things look different</h2>
            <h2>Clear output - a defined way of being done</h2>
          </section>
          <!-- <section>
            <h1>Optimised making stuff</h1>
          </section>
          <section>
            <h2>1/ have a place to output</h2>
            <h2>2/ do rubbish stuff</h2>
            <h2>3/ practice</h2>
          </section>
          <section>
            <h1>What is creativity?</h1>
          </section> -->
          <section>
            <h2>[adventure collective]</h2>
          </section>
          <section>
            <h3>lanterns</h3>
          </section>
        </section>


        <section>
          <section>
            <h2>[THE ACTUAL TALK]</h2>
          </section>

          <section>
            <h3>Let's draw something that isn't here</h3>
          </section>
        </section>

        <section>
          <section>
            <h1>Step 1.</h1>
            <h2>Gather some points</h2>
          </section>

          <section>
            <h2>[lighthouse]</h2>
          </section>

          <section>
            <h2>[controller]</h2>
          </section>

          <section>
            <h2>[x, y, z]</h2>
          </section>

          <section id="populate">
            <table>
              <tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr><tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr><tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr><tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr><tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr><tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr><tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr><tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr><tr>
                <td class="d">&nbsp;</td><td class="d"></td><td class="d"></td>
              </tr></table>
            <a href="#rm" style="color: #555">&times;</a>
            <a href="#skip" style="color: #555">&rarr;</a>
          </section>

          <section id="skip">
          </section>

        </section>


        <section>
          <section>
            <h1>Step 2.</h1>
            <h2>Draw points to screen</h2>
          </section>
          <section>
            <div class="fragment">
              <h3>SVG</h3>
              <pre><code class="hljs html" data-trim>
&lt;path d="M0 0 L 1 1"/&gt;
              </code></pre>
            </div>
            <div class="fragment">
              <h3>Canvas2D</h3>
                <pre><code class="hljs javascript" data-trim>
ctx.beginPath()
ctx.moveTo(0,0)
ctx.moveTo(1,1)
ctx.stroke()
                </code></pre>
            </div>
          </section>
          <section>
            <h2>CPU vs GPU</h2>
            <!-- CPU - works kind of like how you'd think a program exectutes, plus lots of other stuff -->
          </section>
          <section>
            <h2>Graphics Pipeline</h2>
          </section>
          <section>
            <h3>WebGL</h3>
            <!-- <code><pre>gl.compileShader(vertex_shader)
..
gl.compileShader(vertex_shader)
</pre></code> -->
            <!-- gives us access to this pipeline in web browsers -->
          </section>



          <section>
            <pre class="stretch"><code class="hljs javascript" data-trim style="font-size:.5em;line-height:1em;">
              const gl = document.querySelector('canvas').getContext('webgl')

              const vertex_shader = gl.createShader(gl.VERTEX_SHADER)
              const fragment_shader = gl.createShader(gl.FRAGMENT_SHADER)

              gl.shaderSource(vertex_shader,`
                attribute vec3 a_position;
                attribute vec3 a_color;
                varying vec3 v_color;
                void main() {
                  gl_Position = vec4(a_position, 1.0);
                  v_color = a_color;
                }
              `)
              gl.shaderSource(fragment_shader,`
                precision mediump float;
                varying vec3 v_color;
                void main() {
                  gl_FragColor = vec4(v_color, 1);
                }
              `)

              gl.compileShader(vertex_shader)
              gl.compileShader(fragment_shader)

              // Send attribute data to GPU
              gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer())
              gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
                -1,   0,   0,      1,   0,   1,
                 0,   1,   0,      1,   1,   0,
                 1,  -1,   0,      0,   1,   1,
              ]), gl.STATIC_DRAW)

              const program = gl.createProgram()

              gl.attachShader(program, vertex_shader)
              gl.attachShader(program, fragment_shader)

              gl.linkProgram(program)
              gl.useProgram(program)

              const a_position = gl.getAttribLocation(program, 'a_position')
              const a_color = gl.getAttribLocation(program, 'a_color')

              gl.vertexAttribPointer(a_position, 3, gl.FLOAT, false, 4*6, 0)
              gl.vertexAttribPointer(a_color, 3, gl.FLOAT, false, 4*6, 4*3)

              gl.enableVertexAttribArray(a_position)
              gl.enableVertexAttribArray(a_color)

              gl.drawArrays(gl.TRIANGLES, 0, 3)
            </code>
          </section>


          <section>
            <h1>Buffers</h1>
            <pre><code class="hljs javascript" data-trim>
              [1, 2, 4.23, 56, 2335, 23.235, 312, ...]
            </code></pre>
            <div class="fragment">
              <hr />
              <pre><code class="hljs javascript" data-trim>
                gl.bufferData(gl.ARRAY_BUFFER, data_array, gl.STATIC_DRAW)
              </code></pre>
            </div>
          </section>

          <section>
            <h1>Shaders</h1>
            <pre><code class="hljs glsl" data-trim>
              attribute vec3 a_position;
              attribute vec3 a_color;
              varying vec3 v_color;
              void main() {
                gl_Position = vec4(a_position, 1.0);
                v_color = a_color;
              }
            </code></pre>

            <div class="fragment">
              <hr />
              <pre><code class="hljs javascript" data-trim>
                gl.compileShader(vertex_shader)
              </code></pre>
            </div>
          </section>

          <section>
            <h1>Draw calls</h1>

            <div class="fragment">
              <hr />
              <pre><code class="hljs javascript" data-trim>
                gl.drawArrays(gl.TRIANGLES, 0, 9)
              </code></pre>
            </div>

          </section>

          <section>
            <hr />
          </section>

          <section>
            <h2>Plugging in our data</h2>
            <pre><code class="hljs javascript" data-trim>
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
              0.861	1.716	1.146	0.525	0.062	0.980
              0.583	1.163	0.777	0.980	0.525	0.062
              0.431	0.860	0.574	0.062	0.980	0.525
              -1.37	0.616	0.411	0.290	0.690	0.8
              -1.54	0.315	0.725	0.290	0.690	0.8
              -1.18	0.225	0.241	0.290	0.690	0.8
              -0.82	0.151	-2.15	1	0.341	0.572
              0.193	0.068	-1.52	1	0.341	0.572
              0.748	0.034	-0.79	1	0.341	0.572
            ]), gl.STATIC_DRAW)

            gl.vertexAttribPointer(a_position, 3, gl.FLOAT, false, 4*6, 0)
            gl.vertexAttribPointer(a_color, 3, gl.FLOAT, false, 4*6, 4*3)
            </code></pre>
          </section>

          <section>
            <h2>Shaders</h2>
            <pre><code class="stretch hljs glsl" data-trim>
              // vertex
              attribute vec3 a_position;
              attribute vec3 a_color;
              varying vec3 v_color;
              void main() {
                gl_Position = vec4(a_position, 1.0);
                v_color = a_color;
              }

              // fragment
              precision mediump float;
              varying vec3 v_color;
              void main() {
                gl_FragColor = vec4(v_color, 1);
              }
            </code></pre>
          </section>

          <section id="render-1">
            <h4 class="over">Result</h4>
          </section>




<!--
          <section>
            <pre><code class="hljs javascript">const gl = canvas.getContext('webgl')</pre></code>
          </section>

          <section>
            <h2>Create Shaders</h2>
            <pre><code class="hljs javascript" data-trim>

const vShader = gl.createShader(gl.VERTEX_SHADER)
const fShader = gl.createShader(gl.FRAGMENT_SHADER)

gl.shaderSource(vShader, `
  attribute vec3 a_position;
  void main() {
    gl_Position = vec4(a_position, 1.0);
  }`)
gl.shaderSource(fShader, `
  void main() {
    gl_FragColor = vec4(1.0,1.0,1.0, 0);
  }`)

gl.compileShader(vShader)
gl.compileShader(fShader)

            </code></pre>
          </section>

          <section>
            <h2>Create a program</h2>
            <pre><code class="hljs javascript" data-trim>

const program = gl.createProgram()

gl.attachShader(program, fShader)
gl.attachShader(program, vShader)

gl.linkProgram(program)
gl.useProgram(program)

            </code></pre>
          </section>


          <section>
            <h2>Send data</h2>
            <pre><code class="hljs javascript" data-trim>

              gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer())
              gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
                -1,   0,   0,      1,   0,   1,
                 0,   1,   0,      1,   1,   0,
                 1,  -1,   0,      0,   1,   1,
              ]), gl.STATIC_DRAW)

            </code></pre>
          </section>


          <section>
            <h2>Hook stuff together</h2>
            <pre><code class="hljs javascript" data-trim>

              const a_position = gl.getAttribLocation(program, 'a_position')

              gl.vertexAttribPointer(a_position, 3, gl.FLOAT, false, 4*6, 0)

              gl.enableVertexAttribArray(a_position)
            </code></pre>
          </section>


          <section>
            <h2>Draw</h2>
            <pre><code class="hljs javascript" data-trim>
              gl.drawArrays(gl.TRIANGLES, 0, 3)
            </code></pre>
          </section>

          <section data-background="images/triangle.png" data-background-size="contain"></section> -->

        </section>


        <section>
          <section>
            <h1>Step 3.</h1>
            <h2>Getting stuff in the right place</h2>
          </section>

          <section>
            <h1>[maths gif]</h1>
          </section>

          <section>
            <h1>Transforms</h1>
          </section>

          <section>
            <h3>scale</h3>
            <h3>rotate</h3>
            <h3>skew</h3>
            <h3>translate</h3>
            <h3>perspective</h3>
            <!-- you might notice these from apps, or css -->
          </section>

          <!-- <section>
            <h1>Linear mappings</h1>
          </section> -->

          <!-- <section>
            <img src="images/transform-matrix.svg" class="stretch" />
          </section> -->

          <section>
            <img src="images/transform-matrix-h.svg" class="stretch" />
          </section>

          <section>
            <h1>Transform Matrix</h1>
          </section>

          <section>
            <h1>Handy matrices</h1>
            <h2>Model</h2>
            <h2>View</h2>
            <h2>Perspective</h2>
          </section>

          <section>
            <h1>Uniforms</h1>
          </section>


          <section id="render-2">
            <h4 class="over">Result</h4>
          </section>

        </section>


        <section>
          <section>
            <h1>Step 3.</h1>
            <h2>Making things less flat</h2>
          </section>

          <section>
            <h1>Colour &amp; Light</h1>
            <!-- does anyone know why things are a particular colour -->
          </section>

          <section>
            [lighting diagram]
          </section>

          <section>
            Normals
          </section>

          <section id="render-3">

          </section>


        </section>

      </div>
    </div>


    <script src="lib/reveal.js/lib/js/head.min.js"></script>
    <script src="lib/reveal.js/js/reveal.js"></script>
    <script src="lib/slide-builder.js"></script>
    <script src="lib/localforage.js"></script>
    <script src="lib/gl-matrix.js"></script>

    <script>
      Reveal.initialize({
        controls: false,
        progress: false,
        history: true,
        center: true,
        margin: 0,

        transition: 'slide',

        dependencies: [
          {
            src: 'lib/reveal.js/plugin/highlight/highlight.js',
            async: true,
            callback: function() { hljs.initHighlightingOnLoad() }
          },

          {
            src: 'scripts/populate.js',
            callback: () => {
              new PopulateSlide('#populate')
            }
          },

          {
            src: 'scripts/render-1.js',
            callback: () => {
              new Render1('#render-1')
            }
          },

          {
            src: 'scripts/render-2.js',
            callback: () => {
              new Render2('#render-2')
            }
          },

          {
            src: 'scripts/render-3.js',
            callback: () => {
              new Render3('#render-3')
            }
          }
        ]
      });

    </script>

  </body>
</html>
